(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{117:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),i=a(9),o=a.n(i),l=(a(85),a(86),a(19)),s=a(163),r=a(152),u=a(153),d=c.a.memo((function(t){var e=Object(n.useState)(""),a=Object(l.a)(e,2),i=a[0],o=a[1],d=Object(n.useState)(null),m=Object(l.a)(d,2),f=m[0],b=m[1],O=function(){""!==i.trim()?(t.addItem(i.trim()),o("")):b("Title is required")};return c.a.createElement("div",null,c.a.createElement(s.a,{value:i,onChange:function(t){o(t.currentTarget.value)},onKeyPress:function(t){null!==f&&b(null),"Enter"===t.key&&O()},error:!!f,helperText:f}),c.a.createElement(r.a,{onClick:O,size:"small"},c.a.createElement(u.a,null)))})),m=c.a.memo((function(t){console.log("EditableSpan");var e=Object(n.useState)(!1),a=Object(l.a)(e,2),i=a[0],o=a[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),u=r[0],d=r[1];return i?c.a.createElement("input",{value:u,onBlur:function(){o(!1),t.onChange(u)},onChange:function(t){return d(t.currentTarget.value)},autoFocus:!0}):c.a.createElement("span",{onDoubleClick:function(){o(!0),d(t.title)},className:t.className},t.title)})),f=a(151),b=a(156),O=a(119),k=a(155),T=a(154),j=a(164),E=c.a.memo((function(t){var e=Object(n.useCallback)((function(){return t.removeTask(t.todolistId,t.task.id)}),[t]),a=Object(n.useCallback)((function(e){e.currentTarget.checked?t.changeTaskStatus(t.todolistId,t.task,1):t.changeTaskStatus(t.todolistId,t.task,0)}),[t]),i=Object(n.useCallback)((function(e){t.changeTaskTitle(t.todolistId,t.task,e)}),[t]);return c.a.createElement(T.a,{key:t.task.id,style:{padding:"0",justifyContent:"space-between"}},c.a.createElement(j.a,{size:"small",color:"primary",onChange:a,checked:1===t.task.status}),c.a.createElement(m,{title:t.task.title,onChange:i,className:1===t.task.status?"is-done":""}),c.a.createElement(r.a,{onClick:e,size:"small"},c.a.createElement(k.a,null)))})),h=a(24),p=a(20),I=a(25),v=a(8),C=a(165),g=a(18),S=a.n(g),y=function(t){return function(e){S.a.post("https://social-network.samuraijs.com/api/1.1/todo-lists",{title:t},{withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}).then((function(t){e(function(t){return{type:"ADD-TODOLIST",newTodolistId:Object(C.a)(),title:t}}(t.data.data.item.title))}))}},A=[],w={},D=c.a.memo((function(t){var e=Object(h.b)();Object(n.useEffect)((function(){var a;e((a=t.todolistId,function(t){S.a.get("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(a,"/tasks"),{withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}).then((function(e){t(function(t,e){return{type:"SET-TASKS",todolistId:t,tasks:e}}(a,e.data.items))}))}))}),[e,t.todolistId]);var a=Object(n.useCallback)((function(e){t.addTask(t.todolistId,e.trim())}),[t]),i=Object(n.useCallback)((function(){return t.changeFilter(t.todolistId,"all")}),[t]),o=Object(n.useCallback)((function(){return t.changeFilter(t.todolistId,"active")}),[t]),l=Object(n.useCallback)((function(){return t.changeFilter(t.todolistId,"completed")}),[t]),s=Object(n.useCallback)((function(e){return t.changeTodolistTitle(t.todolistId,e)}),[t]),u=t.tasks;return"active"===t.filter&&(u=t.tasks.filter((function(t){return 0===t.status}))),"completed"===t.filter&&(u=t.tasks.filter((function(t){return 1===t.status}))),c.a.createElement("div",{style:{minHeight:"350px",display:"flex",flexDirection:"column",justifyContent:"space-between"}},c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(m,{title:t.title,onChange:s}),c.a.createElement(r.a,{onClick:function(){return t.removeTodolist(t.todolistId)},size:"small"},c.a.createElement(k.a,null))),c.a.createElement(d,{addItem:a}),c.a.createElement(f.a,null,u.map((function(e){return c.a.createElement(E,{task:e,removeTask:t.removeTask,changeTaskTitle:t.changeTaskTitle,todolistId:t.todolistId,changeTaskStatus:t.changeTaskStatus,key:e.id})})))),c.a.createElement(b.a,{size:"small",variant:"contained",style:{margin:"0 auto 15px"}},c.a.createElement(O.a,{color:"all"===t.filter?"secondary":"primary",className:"all"===t.filter?"active-filter":"",onClick:i},"All"),c.a.createElement(O.a,{color:"active"===t.filter?"secondary":"primary",className:"active"===t.filter?"active-filter":"",onClick:o},"Active"),c.a.createElement(O.a,{color:"completed"===t.filter?"secondary":"primary",className:"completed"===t.filter?"active-filter":"",onClick:l},"Completed")))})),L=a(157),K=a(118),N=a(158),x=a(159),H=a(161),P=a(162),F=a(160);var G=function(){var t=Object(h.b)(),e=Object(h.c)((function(t){return t.tasks})),a=Object(h.c)((function(t){return t.todolists}));Object(n.useEffect)((function(){t((function(t){S.a.get("https://social-network.samuraijs.com/api/1.1/todo-lists",{withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}).then((function(e){t({type:"SET-TODOLISTS",todolists:e.data})}))}))}),[t]);var i=Object(n.useCallback)((function(e,a){t(function(t,e){return function(a){S.a.delete("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(t,"/tasks/").concat(e),{withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}).then((function(n){0===n.data.resultCode&&a(function(t,e){return{type:"REMOVE-TASK",todolistId:t,taskId:e}}(t,e))}))}}(e,a))}),[t]),o=Object(n.useCallback)((function(e,a){t(function(t,e){return function(a){S.a.post("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(t,"/tasks"),{title:e},{withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}).then((function(e){a(function(t,e){return{type:"ADD-TASK",todolistId:t,task:e}}(t,e.data.data.item))}))}}(e,a))}),[t]),l=Object(n.useCallback)((function(e){t(y(e))}),[t]),s=Object(n.useCallback)((function(e,a,n){t(function(t,e,a){return function(n){S.a.put("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(t,"/tasks/").concat(e.id),Object(v.a)(Object(v.a)({},e),{},{status:a}),{withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}).then((function(c){0===c.data.resultCode&&n(function(t,e,a){return{type:"CHANGE-TASK-STATUS",todolistId:t,task:e,status:a}}(t,e,a))}))}}(e,a,n))}),[t]),u=Object(n.useCallback)((function(e,a,n){t(function(t,e,a){return function(n){S.a.put("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(t,"/tasks/").concat(e.id),Object(v.a)(Object(v.a)({},e),{},{title:a}),{withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}).then((function(c){0===c.data.resultCode&&n(function(t,e,a){return{type:"CHANGE-TASK-TITLE",todolistId:t,task:e,title:a}}(t,e,a))}))}}(e,a,n))}),[t]),m=Object(n.useCallback)((function(e,a){t(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",todolistId:t,title:e}}(e,a))}),[t]),f=Object(n.useCallback)((function(e,a){t(function(t,e){return{type:"CHANGE-FILTER",todolistId:t,value:e}}(e,a))}),[t]),b=Object(n.useCallback)((function(e){var a;t((a=e,function(t){S.a.delete("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(a),{withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}).then((function(e){0===e.data.resultCode&&t({type:"REMOVE-TODOLIST",todolistId:a})}))}))}),[t]),k=a.map((function(t){return c.a.createElement(L.a,{item:!0,key:t.id},c.a.createElement(K.a,{elevation:8,style:{minWidth:"230px",textAlign:"center"}},c.a.createElement(D,{key:t.id,todolistId:t.id,title:t.title,tasks:e[t.id],removeTask:i,changeFilter:f,addTask:o,changeTaskStatus:s,changeTaskTitle:u,changeTodolistTitle:m,filter:t.filter,removeTodolist:b})))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(N.a,{position:"static"},c.a.createElement(x.a,{style:{justifyContent:"space-between"}},c.a.createElement(r.a,{edge:"start",color:"inherit","aria-label":"menu"},c.a.createElement(F.a,null)),c.a.createElement(H.a,{variant:"h6"},"TodoList"),c.a.createElement(O.a,{color:"inherit",variant:"outlined",style:{marginLeft:"15px"}},"Login"))),c.a.createElement(P.a,{fixed:!0},"   ",c.a.createElement(L.a,{container:!0,style:{padding:"20px 0"}},"   ",c.a.createElement(d,{addItem:l})),c.a.createElement(L.a,{container:!0,spacing:3},"   ",k)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(46),R=a(73),z=Object(Y.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-TASK":return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolistId,[e.task].concat(Object(I.a)(t[e.todolistId]))));case"SET-TASKS":return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolistId,e.tasks));case"SET-TODOLISTS":var a=e.todolists.map((function(t){return t.id}));return a.reduce((function(t,e){return t[e]=[],t}),{});case"REMOVE-TASK":return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"CHANGE-TASK-TITLE":return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.task.id?Object(v.a)(Object(v.a)({},t),{},{title:e.title}):t}))));case"CHANGE-TASK-STATUS":return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.task.id?Object(v.a)(Object(v.a)({},t),{},{status:e.status}):t}))));case"REMOVE-TODOLIST":var n=Object(v.a)({},t);return delete n[e.todolistId],n;case"ADD-TODOLIST":return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.newTodolistId,[]));default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TODOLISTS":var a=e.todolists.map((function(t){return Object(v.a)(Object(v.a)({},t),{},{filter:"all"})}));return[].concat(Object(I.a)(t),Object(I.a)(a));case"ADD-TODOLIST":var n={id:e.newTodolistId,title:e.title,filter:"all"};return[n].concat(Object(I.a)(t));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.todolistId?Object(v.a)(Object(v.a)({},t),{},{title:e.title}):t}));case"CHANGE-FILTER":return t.map((function(t){return t.id===e.todolistId?Object(v.a)(Object(v.a)({},t),{},{filter:e.value}):t}));case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.todolistId}));default:return t}}}),M=Object(Y.c)(z,Object(Y.a)(R.a));o.a.render(c.a.createElement(h.a,{store:M},c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},80:function(t,e,a){t.exports=a(117)},85:function(t,e,a){},86:function(t,e,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.25fa6c5c.chunk.js.map