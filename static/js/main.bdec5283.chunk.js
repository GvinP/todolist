(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{117:function(t,e,a){"use strict";a.r(e);var n,c,o=a(0),i=a.n(o),l=a(8),r=a.n(l),s=(a(85),a(86),a(18)),u=a(162),d=a(151),f=a(152),m=i.a.memo((function(t){var e=Object(o.useState)(""),a=Object(s.a)(e,2),n=a[0],c=a[1],l=Object(o.useState)(null),r=Object(s.a)(l,2),m=r[0],b=r[1],O=function(){""!==n.trim()?(t.addItem(n.trim()),c("")):b("Title is required")};return i.a.createElement("div",null,i.a.createElement(u.a,{value:n,onChange:function(t){c(t.currentTarget.value)},onKeyPress:function(t){null!==m&&b(null),"Enter"===t.key&&O()},error:!!m,helperText:m}),i.a.createElement(d.a,{onClick:O,size:"small"},i.a.createElement(f.a,null)))})),b=i.a.memo((function(t){console.log("EditableSpan");var e=Object(o.useState)(!1),a=Object(s.a)(e,2),n=a[0],c=a[1],l=Object(o.useState)(""),r=Object(s.a)(l,2),u=r[0],d=r[1];return n?i.a.createElement("input",{value:u,onBlur:function(){c(!1),t.onChange(u)},onChange:function(t){return d(t.currentTarget.value)},autoFocus:!0}):i.a.createElement("span",{onDoubleClick:function(){c(!0),d(t.title)},className:t.className},t.title)})),O=a(150),k=a(155),T=a(119),E=a(154),j=a(153),I=a(163),h=i.a.memo((function(t){var e=Object(o.useCallback)((function(){return t.removeTask(t.todolistId,t.task.id)}),[t]),a=Object(o.useCallback)((function(e){e.currentTarget.checked?t.changeTaskStatus(t.todolistId,t.task,1):t.changeTaskStatus(t.todolistId,t.task,0)}),[t]),n=Object(o.useCallback)((function(e){t.changeTaskTitle(t.todolistId,t.task.id,e)}),[t]);return i.a.createElement(j.a,{key:t.task.id,style:{padding:"0",justifyContent:"space-between"}},i.a.createElement(I.a,{size:"small",color:"primary",onChange:a,checked:1===t.task.status}),i.a.createElement(b,{title:t.task.title,onChange:n,className:1===t.task.status?"is-done":""}),i.a.createElement(d.a,{onClick:e,size:"small"},i.a.createElement(E.a,null)))})),p=a(23),v=a(19),g=a(24),C=a(10),y=a(72),S=a.n(y).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"e2b2d8ed-9e2a-4c10-8057-a81181e19d3c"}}),D=function(){return S.get("todo-lists")},A=function(t){return S.post("todo-lists",{title:t})},L=function(t){return S.delete("todo-lists/".concat(t))},w=function(t){return S.get("todo-lists/".concat(t,"/tasks"))},N=function(t,e){return S.delete("todo-lists/".concat(t,"/tasks/").concat(e))},x=function(t,e){return S.post("todo-lists/".concat(t,"/tasks"),{title:e})},K=function(t,e,a){return S.put("todo-lists/".concat(t,"/tasks/").concat(e),a)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(n||(n={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(c||(c={}));var H=[],F=function(t,e,a){return function(n){K(t,e,a).then((function(c){0===c.data.resultCode&&n(function(t,e,a){return{type:"CHANGE-TASK",todolistId:t,taskId:e,model:a}}(t,e,a))}))}},R={},M=i.a.memo((function(t){var e=Object(p.b)();Object(o.useEffect)((function(){var a;e((a=t.todolistId,function(t){w(a).then((function(e){t(function(t,e){return{type:"SET-TASKS",todolistId:t,tasks:e}}(a,e.data.items))}))}))}),[e,t.todolistId]);var a=Object(o.useCallback)((function(e){t.addTask(t.todolistId,e.trim())}),[t]),n=Object(o.useCallback)((function(){return t.changeFilter(t.todolistId,"all")}),[t]),c=Object(o.useCallback)((function(){return t.changeFilter(t.todolistId,"active")}),[t]),l=Object(o.useCallback)((function(){return t.changeFilter(t.todolistId,"completed")}),[t]),r=Object(o.useCallback)((function(e){return t.changeTodolistTitle(t.todolistId,e)}),[t]),s=t.tasks;return"active"===t.filter&&(s=t.tasks.filter((function(t){return 0===t.status}))),"completed"===t.filter&&(s=t.tasks.filter((function(t){return 1===t.status}))),i.a.createElement("div",{style:{minHeight:"350px",display:"flex",flexDirection:"column",justifyContent:"space-between"}},i.a.createElement("div",null,i.a.createElement("h3",null,i.a.createElement(b,{title:t.title,onChange:r}),i.a.createElement(d.a,{onClick:function(){return t.removeTodolist(t.todolistId)},size:"small"},i.a.createElement(E.a,null))),i.a.createElement(m,{addItem:a}),i.a.createElement(O.a,null,s.map((function(e){return i.a.createElement(h,{task:e,removeTask:t.removeTask,changeTaskTitle:t.changeTaskTitle,todolistId:t.todolistId,changeTaskStatus:t.changeTaskStatus,key:e.id})})))),i.a.createElement(k.a,{size:"small",variant:"contained",style:{margin:"0 auto 15px"}},i.a.createElement(T.a,{color:"all"===t.filter?"secondary":"primary",className:"all"===t.filter?"active-filter":"",onClick:n},"All"),i.a.createElement(T.a,{color:"active"===t.filter?"secondary":"primary",className:"active"===t.filter?"active-filter":"",onClick:c},"Active"),i.a.createElement(T.a,{color:"completed"===t.filter?"secondary":"primary",className:"completed"===t.filter?"active-filter":"",onClick:l},"Completed")))})),G=a(156),z=a(118),V=a(157),P=a(158),B=a(160),U=a(161),W=a(159);var J=function(){var t=Object(p.b)(),e=Object(p.c)((function(t){return t.tasks})),a=Object(p.c)((function(t){return t.todolists}));Object(o.useEffect)((function(){t((function(t){D().then((function(e){t({type:"SET-TODOLISTS",todolists:e.data})}))}))}),[t]);var n=Object(o.useCallback)((function(e,a){t(function(t,e){return function(a){N(t,e).then((function(n){0===n.data.resultCode&&a(function(t,e){return{type:"REMOVE-TASK",todolistId:t,taskId:e}}(t,e))}))}}(e,a))}),[t]),c=Object(o.useCallback)((function(e,a){t(function(t,e){return function(a){x(t,e).then((function(e){a(function(t,e){return{type:"ADD-TASK",todolistId:t,task:e}}(t,e.data.data.item))}))}}(e,a))}),[t]),l=Object(o.useCallback)((function(e){t(function(t){return function(e){A(t).then((function(t){e(function(t,e){return{type:"ADD-TODOLIST",todolistId:t,title:e}}(t.data.data.item.id,t.data.data.item.title))}))}}(e))}),[t]),r=Object(o.useCallback)((function(e,a,n){t(F(e,a.id,{title:a.title,status:n}))}),[t]),s=Object(o.useCallback)((function(e,a,n){t(F(e,a,{title:n}))}),[t]),u=Object(o.useCallback)((function(e,a){t(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",todolistId:t,title:e}}(e,a))}),[t]),f=Object(o.useCallback)((function(e,a){t(function(t,e){return{type:"CHANGE-FILTER",todolistId:t,value:e}}(e,a))}),[t]),b=Object(o.useCallback)((function(e){var a;t((a=e,function(t){L(a).then((function(e){0===e.data.resultCode&&t({type:"REMOVE-TODOLIST",todolistId:a})}))}))}),[t]),O=a.map((function(t){return i.a.createElement(G.a,{item:!0,key:t.id},i.a.createElement(z.a,{elevation:8,style:{minWidth:"230px",textAlign:"center"}},i.a.createElement(M,{key:t.id,todolistId:t.id,title:t.title,tasks:e[t.id],removeTask:n,changeFilter:f,addTask:c,changeTaskStatus:r,changeTaskTitle:s,changeTodolistTitle:u,filter:t.filter,removeTodolist:b})))}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{position:"static"},i.a.createElement(P.a,{style:{justifyContent:"space-between"}},i.a.createElement(d.a,{edge:"start",color:"inherit","aria-label":"menu"},i.a.createElement(W.a,null)),i.a.createElement(B.a,{variant:"h6"},"TodoList"),i.a.createElement(T.a,{color:"inherit",variant:"outlined",style:{marginLeft:"15px"}},"Login"))),i.a.createElement(U.a,{fixed:!0},"   ",i.a.createElement(G.a,{container:!0,style:{padding:"20px 0"}},"   ",i.a.createElement(m,{addItem:l})),i.a.createElement(G.a,{container:!0,spacing:3},"   ",O)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=a(45),Y=a(73),$=Object(q.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-TASK":return Object(C.a)(Object(C.a)({},t),{},Object(v.a)({},e.todolistId,[e.task].concat(Object(g.a)(t[e.todolistId]))));case"SET-TASKS":return Object(C.a)(Object(C.a)({},t),{},Object(v.a)({},e.todolistId,e.tasks));case"SET-TODOLISTS":return e.todolists.reduce((function(t,e){return Object(C.a)(Object(C.a)({},t),{},Object(v.a)({},e.id,[]))}),{});case"REMOVE-TASK":return Object(C.a)(Object(C.a)({},t),{},Object(v.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"CHANGE-TASK":return Object(C.a)(Object(C.a)({},t),{},Object(v.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(C.a)(Object(C.a)({},t),e.model):t}))));case"REMOVE-TODOLIST":var a=Object(C.a)({},t);return delete a[e.todolistId],a;case"ADD-TODOLIST":return Object(C.a)(Object(C.a)({},t),{},Object(v.a)({},e.todolistId,[]));default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TODOLISTS":var a=e.todolists.map((function(t){return Object(C.a)(Object(C.a)({},t),{},{filter:"all"})}));return[].concat(Object(g.a)(t),Object(g.a)(a));case"ADD-TODOLIST":var n={id:e.todolistId,title:e.title,filter:"all"};return[n].concat(Object(g.a)(t));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.todolistId?Object(C.a)(Object(C.a)({},t),{},{title:e.title}):t}));case"CHANGE-FILTER":return t.map((function(t){return t.id===e.todolistId?Object(C.a)(Object(C.a)({},t),{},{filter:e.value}):t}));case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.todolistId}));default:return t}}}),Q=Object(q.c)($,Object(q.a)(Y.a)),X=Q;window.store=Q,r.a.render(i.a.createElement(p.a,{store:X},i.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},80:function(t,e,a){t.exports=a(117)},85:function(t,e,a){},86:function(t,e,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.bdec5283.chunk.js.map